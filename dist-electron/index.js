"use strict";const e=require("electron"),l=require("path");console.log(l);const n=process.env.NODE_ENV;console.log("electron打印当前环境=>",n);e.Menu.setApplicationMenu(null);function t(){const o=new e.BrowserWindow({width:800,height:600,frame:!0,webPreferences:{nodeIntegration:!0,contextIsolation:!1}});o.loadURL(n==="development"?"http://localhost:5173":`file://${l.join(__dirname,"../dist/index.html")}`),n==="development"&&o.webContents.openDevTools(),e.globalShortcut.register("Alt+CommandOrControl+I",()=>{o.webContents.openDevTools(),console.log("打开控制台 open devTools")}),o.on("close",s=>{console.log("窗口即将销毁")}),o.webContents.openDevTools()}e.app.whenReady().then(()=>{t(),e.app.on("activate",function(){e.BrowserWindow.getAllWindows().length===0&&t()})});e.app.on("window-all-closed",function(){process.platform!=="darwin"&&e.app.quit()});
